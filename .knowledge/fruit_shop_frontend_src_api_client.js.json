{"is_source_file": true, "format": "JavaScript (ES Module)", "description": "This source file provides an API client for the fruit shop frontend application. It includes functions to retrieve environment variables, fetch product data (with mock fallback), fetch individual product details, and submit checkout orders. It employs fetch with timeout handling and uses environment variables to determine API endpoints.", "external_files": ["fetch", "# Built-in browser API for network requests"], "external_methods": ["fetch", "fetchWithTimeout"], "published": ["getEnv", "fetchProducts", "fetchProductById", "submitCheckout"], "classes": [], "methods": [{"name": "getEnv(name, fallback = undefined)", "description": "Retrieves environment variable value in React environment, with optional fallback.", "scope": "", "scopeKind": ""}, {"name": "fetchProducts()", "description": "Fetches product list from backend API or returns mock data if API fails or environment variable is missing.", "scope": "", "scopeKind": ""}, {"name": "fetchProductById(id)", "description": "Fetches a single product by its ID from backend API or returns mock data if API fails.", "scope": "", "scopeKind": ""}, {"name": "submitCheckout(orderPayload)", "description": "Submits an order payload to the backend checkout API endpoint or returns a mock confirmation if API is unavailable.", "scope": "", "scopeKind": ""}, {"name": "fetchWithTimeout(resource, options = {})", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "fetchWithTimeout", "getEnv"], "search-terms": ["fruit shop API client", "fetch products mock fallback", "fetch product by id fallback", "submit checkout API"], "state": 2, "file_id": 13, "knowledge_revision": 27, "git_revision": "", "ctags": [{"_type": "tag", "name": "DEFAULT_TIMEOUT_MS", "path": "/home/kavia/workspace/code-generation/fresh-fruit-market-45552-45562/fruit_shop_frontend/src/api/client.js", "pattern": "/^const DEFAULT_TIMEOUT_MS = 12000;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "MOCK_PRODUCTS", "path": "/home/kavia/workspace/code-generation/fresh-fruit-market-45552-45562/fruit_shop_frontend/src/api/client.js", "pattern": "/^const MOCK_PRODUCTS = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "confirmation", "path": "/home/kavia/workspace/code-generation/fresh-fruit-market-45552-45562/fruit_shop_frontend/src/api/client.js", "pattern": "/^  const confirmation = {$/", "language": "JavaScript", "kind": "class", "scope": "submitCheckout", "scopeKind": "class"}, {"_type": "tag", "name": "estimatedDeliveryDays", "path": "/home/kavia/workspace/code-generation/fresh-fruit-market-45552-45562/fruit_shop_frontend/src/api/client.js", "pattern": "/^    estimatedDeliveryDays: 2,$/", "language": "JavaScript", "kind": "property", "scope": "submitCheckout.confirmation", "scopeKind": "class"}, {"_type": "tag", "name": "fetchProductById", "path": "/home/kavia/workspace/code-generation/fresh-fruit-market-45552-45562/fruit_shop_frontend/src/api/client.js", "pattern": "/^export async function fetchProductById(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "fetchProducts", "path": "/home/kavia/workspace/code-generation/fresh-fruit-market-45552-45562/fruit_shop_frontend/src/api/client.js", "pattern": "/^export async function fetchProducts() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "fetchWithTimeout", "path": "/home/kavia/workspace/code-generation/fresh-fruit-market-45552-45562/fruit_shop_frontend/src/api/client.js", "pattern": "/^async function fetchWithTimeout(resource, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(resource, options = {})"}, {"_type": "tag", "name": "getEnv", "path": "/home/kavia/workspace/code-generation/fresh-fruit-market-45552-45562/fruit_shop_frontend/src/api/client.js", "pattern": "/^export function getEnv(name, fallback = undefined) {$/", "language": "JavaScript", "kind": "function", "signature": "(name, fallback = undefined)"}, {"_type": "tag", "name": "orderId", "path": "/home/kavia/workspace/code-generation/fresh-fruit-market-45552-45562/fruit_shop_frontend/src/api/client.js", "pattern": "/^    orderId: `MOCK-${Date.now()}`,$/", "language": "JavaScript", "kind": "property", "scope": "submitCheckout.confirmation", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/fresh-fruit-market-45552-45562/fruit_shop_frontend/src/api/client.js", "pattern": "/^    status: \"confirmed\",$/", "language": "JavaScript", "kind": "property", "scope": "submitCheckout.confirmation", "scopeKind": "class"}, {"_type": "tag", "name": "submitCheckout", "path": "/home/kavia/workspace/code-generation/fresh-fruit-market-45552-45562/fruit_shop_frontend/src/api/client.js", "pattern": "/^export async function submitCheckout(orderPayload) {$/", "language": "JavaScript", "kind": "function", "signature": "(orderPayload)"}], "hash": "95fc83dc7b1be9fdde56a2c5e3480ca0", "format-version": 4, "code-base-name": "fruit_shop_frontend", "filename": "fruit_shop_frontend/src/api/client.js", "fields": [{"name": "estimatedDeliveryDays: 2,", "scope": "submitCheckout.confirmation", "scopeKind": "class", "description": "unavailable"}, {"name": "orderId: `MOCK-${Date.now()}`,", "scope": "submitCheckout.confirmation", "scopeKind": "class", "description": "unavailable"}, {"name": "status: \"confirmed\",", "scope": "submitCheckout.confirmation", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"27": ""}]}