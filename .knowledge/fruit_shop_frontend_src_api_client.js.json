{"is_source_file": true, "format": "JavaScript", "description": "This file implements an API client for the fruit shop frontend application. It includes functions to retrieve environment variables, fetch product data (either from a backend server or fallback mock data), fetch individual product details, and submit checkout information. The file contains mock data for products and handles API failures gracefully by falling back to the mock data.", "external_files": ["fetch"], "external_methods": ["fetchWithTimeout"], "published": ["getEnv", "fetchProducts", "fetchProductById", "submitCheckout"], "classes": [], "methods": [{"name": "getEnv(name, fallback = undefined)", "description": "Get environment variable in React env space.", "scope": "", "scopeKind": ""}, {"name": "fetchProducts()", "description": "Fetch product list from backend; fall back to mock data on failure or missing ENV.", "scope": "", "scopeKind": ""}, {"name": "fetchProductById(id)", "description": "Fetch single product by id; fall back to mock data.", "scope": "", "scopeKind": ""}, {"name": "submitCheckout(orderPayload)", "description": "Submit checkout payload; if API unavailable returns a mock confirmation.", "scope": "", "scopeKind": ""}, {"name": "fetchWithTimeout(resource, options = {})", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "fetchWithTimeout"], "search-terms": ["API client", "fetchProducts", "fetchProductById", "submitCheckout", "fallback mock data", "environment variables"], "state": 2, "file_id": 56, "knowledge_revision": 163, "git_revision": "a6a359f8cbed9e34c0cf6d833a14c18ed4da3ade", "ctags": [{"_type": "tag", "name": "DEFAULT_TIMEOUT_MS", "path": "/home/kavia/workspace/code-generation/fresh-fruit-market-45552-45562/fruit_shop_frontend/src/api/client.js", "pattern": "/^const DEFAULT_TIMEOUT_MS = 12000;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "MOCK_PRODUCTS", "path": "/home/kavia/workspace/code-generation/fresh-fruit-market-45552-45562/fruit_shop_frontend/src/api/client.js", "pattern": "/^const MOCK_PRODUCTS = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "confirmation", "path": "/home/kavia/workspace/code-generation/fresh-fruit-market-45552-45562/fruit_shop_frontend/src/api/client.js", "pattern": "/^  const confirmation = {$/", "language": "JavaScript", "kind": "class", "scope": "submitCheckout", "scopeKind": "class"}, {"_type": "tag", "name": "estimatedDeliveryDays", "path": "/home/kavia/workspace/code-generation/fresh-fruit-market-45552-45562/fruit_shop_frontend/src/api/client.js", "pattern": "/^    estimatedDeliveryDays: 2,$/", "language": "JavaScript", "kind": "property", "scope": "submitCheckout.confirmation", "scopeKind": "class"}, {"_type": "tag", "name": "fetchProductById", "path": "/home/kavia/workspace/code-generation/fresh-fruit-market-45552-45562/fruit_shop_frontend/src/api/client.js", "pattern": "/^export async function fetchProductById(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "fetchProducts", "path": "/home/kavia/workspace/code-generation/fresh-fruit-market-45552-45562/fruit_shop_frontend/src/api/client.js", "pattern": "/^export async function fetchProducts() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "fetchWithTimeout", "path": "/home/kavia/workspace/code-generation/fresh-fruit-market-45552-45562/fruit_shop_frontend/src/api/client.js", "pattern": "/^async function fetchWithTimeout(resource, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(resource, options = {})"}, {"_type": "tag", "name": "getEnv", "path": "/home/kavia/workspace/code-generation/fresh-fruit-market-45552-45562/fruit_shop_frontend/src/api/client.js", "pattern": "/^export function getEnv(name, fallback = undefined) {$/", "language": "JavaScript", "kind": "function", "signature": "(name, fallback = undefined)"}, {"_type": "tag", "name": "orderId", "path": "/home/kavia/workspace/code-generation/fresh-fruit-market-45552-45562/fruit_shop_frontend/src/api/client.js", "pattern": "/^    orderId: `MOCK-${Date.now()}`,$/", "language": "JavaScript", "kind": "property", "scope": "submitCheckout.confirmation", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/fresh-fruit-market-45552-45562/fruit_shop_frontend/src/api/client.js", "pattern": "/^    status: \"confirmed\",$/", "language": "JavaScript", "kind": "property", "scope": "submitCheckout.confirmation", "scopeKind": "class"}, {"_type": "tag", "name": "submitCheckout", "path": "/home/kavia/workspace/code-generation/fresh-fruit-market-45552-45562/fruit_shop_frontend/src/api/client.js", "pattern": "/^export async function submitCheckout(orderPayload) {$/", "language": "JavaScript", "kind": "function", "signature": "(orderPayload)"}], "hash": "95fc83dc7b1be9fdde56a2c5e3480ca0", "format-version": 4, "code-base-name": "fruit_shop_frontend", "filename": "fruit_shop_frontend/src/api/client.js", "fields": [{"name": "estimatedDeliveryDays: 2,", "scope": "submitCheckout.confirmation", "scopeKind": "class", "description": "unavailable"}, {"name": "orderId: `MOCK-${Date.now()}`,", "scope": "submitCheckout.confirmation", "scopeKind": "class", "description": "unavailable"}, {"name": "status: \"confirmed\",", "scope": "submitCheckout.confirmation", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"163": "a6a359f8cbed9e34c0cf6d833a14c18ed4da3ade"}]}